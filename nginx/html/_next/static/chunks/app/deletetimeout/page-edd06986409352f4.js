(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{945:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>u});var r=o(5155),n=o(9079),s=o(4581),a=o(4426),l=o(5695),i=o(2115);function u(){let{setUserCard:e}=(0,i.useContext)(n.c),t=(0,l.useRouter)();return(0,i.useEffect)(()=>{e(n.s),t.push("/")},[e,t]),(0,r.jsx)(s.default,{sx:{display:"flex",justifyContent:"center",marginTop:50},children:(0,r.jsx)(a.A,{})})}},5695:(e,t,o)=>{"use strict";var r=o(8999);o.o(r,"useRouter")&&o.d(t,{useRouter:function(){return r.useRouter}})},7867:(e,t,o)=>{Promise.resolve().then(o.bind(o,945))},9079:(e,t,o)=>{"use strict";o.d(t,{c:()=>a,default:()=>l,s:()=>s});var r=o(5155),n=o(2115);let s={id:null,name:"no_id",avatar:null,globalName:"no_name",userInfo:{games:[],playtime1:["",""],playtime2:["",""],playstyle:[],introduction:"こんにちは、はじめまして",lastLoginAt:null},userOption:{showGender:!1,showAge:!1,showGenderToSameSex:!1,showProfile:!1},cardOption:{color:"black",motion:null}},a=(0,n.createContext)({userCard:s,setUserCard:()=>{},loading:!0});function l(e){let{children:t}=e,[o,l]=(0,n.useState)(s),[i,u]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("","/api/check"),{method:"GET",credentials:"include"});if(204===e.status||401===e.status)return void l(s);if(!e.ok)throw Error("Network response was not ok");let t=await e.json(),o={id:t.id,name:t.name,avatar:t.avatar,globalName:t.globalName,userInfo:{games:t.userInfo.games,playtime1:t.userInfo.playtime1,playtime2:t.userInfo.playtime2,playstyle:t.userInfo.playstyle,introduction:t.userInfo.introduction,lastLoginAt:t.userInfo.lastLoginAt},userOption:{showGender:t.userOption.showGender,showAge:t.userOption.showAge,showGenderToSameSex:t.userOption.showGenderToSameSex,showProfile:t.userOption.showProfile},cardOption:{color:t.cardOption.color||"black",motion:t.cardOption.motion||null}};l(o)}catch(e){console.error("認証エラー:",e)}finally{u(!1)}})()},[]),(0,r.jsx)(a.Provider,{value:{userCard:o,setUserCard:l,loading:i},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[94,441,684,358],()=>t(7867)),_N_E=e.O()}]);