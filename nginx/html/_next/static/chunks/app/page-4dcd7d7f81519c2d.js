(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{669:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var l=a(5155),r=a(7923),n=a(4581),s=a(2115),i=a(4507);function o(e){let{page:t,totalPages:a,setPage:r}=e;return(0,l.jsx)(n.default,{sx:{width:"100%",py:4,display:"flex",justifyContent:"center"},children:(0,l.jsx)(n.default,{sx:{maxWidth:500,width:"100%","& ul":{display:"flex",justifyContent:"center",flexWrap:"nowrap",marginBottom:"10px"}},children:(0,l.jsx)(i.A,{count:a,size:"large",onChange:(e,t)=>{r(t)},page:t})})})}var d=a(5602),u=a(1116),c=a(8534);function f(e){let t=Math.floor(e/2);return"".concat(String(t).padStart(2,"0"),":").concat(e%2==0?"00":"30")}function x(e){let{Search:t,setSearch:a}=e,[r,i]=s.useState([0,48]);return(0,l.jsxs)(n.default,{sx:{width:200},children:[(0,l.jsx)(n.default,{sx:{display:"flex",alignItems:"center",gap:1,marginBottom:4},children:(0,l.jsx)(u.default,{children:"プレイ時間"})}),(0,l.jsx)(d.Ay,{min:0,max:48,step:1,value:r,onChange:(e,t)=>{Array.isArray(t)&&2===t.length&&i(t)},valueLabelDisplay:"on",valueLabelFormat:f}),(0,l.jsx)(c.A,{variant:"contained",onClick:()=>{a(e=>({...e,playtime:r}))},children:"時間検索"})]})}var h=a(307),g=a(5528),p=a(4915),j=a(7088),m=a(4472),y=a(794),v=a(579),b=a(4572),S=a(3181);function w(e){var t;let{setSearch:a,Search:r}=e,s=(e,t)=>{let l=e.target.name;a(e=>{let a=t?[...e.rank,l]:e.rank.filter(e=>e!==l);return{...e,rank:a}})},i=["すべて",...y.k],o=null!=(t=S.g[r.game[0]])?t:[];return(0,l.jsxs)(n.default,{children:[(0,l.jsxs)(j.A,{children:[(0,l.jsx)(n.default,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,l.jsx)(m.A,{id:"title",children:"ゲーム"})}),(0,l.jsx)(g.A,{"aria-labelledby":"radio-buttons-group-label",defaultValue:"すべて",name:"radio-buttons-group",onChange:e=>{if("すべて"===e.target.value)return void a(e=>({...e,game:[],rank:[]}));a(t=>({...t,game:[e.target.value]}))},children:i.map((e,t)=>(0,l.jsx)(p.A,{value:e,control:(0,l.jsx)(h.A,{}),label:e},t))})]}),(0,l.jsxs)(v.A,{sx:{marginTop:4},children:[0!==o.length&&(0,l.jsx)(u.default,{children:"ランク"}),o.map(e=>(0,l.jsx)(p.A,{control:(0,l.jsx)(b.A,{}),label:e,onChange:s,name:e},e))]})]})}var C=a(5374);function A(e){let{setSearch:t}=e,a=(e,a)=>{let l=e.target.name;t(e=>{let t=a?[...e.playstyle,l]:e.playstyle.filter(e=>e!==l);return{...e,playstyle:t}})};return(0,l.jsxs)(n.default,{sx:{marginTop:4},children:[(0,l.jsx)(n.default,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,l.jsx)(u.default,{children:"プレイスタイル"})}),(0,l.jsx)(v.A,{children:C.W.map(e=>(0,l.jsx)(p.A,{control:(0,l.jsx)(b.A,{}),label:e,onChange:a,name:e},e))})]})}var k=a(9076);let I={position:"absolute",left:"1vw",top:"38vh"};function T(){let{Search:e,setSearch:t}=(0,s.useContext)(k.r);return(0,l.jsxs)(n.default,{sx:I,children:[(0,l.jsx)(w,{setSearch:t,Search:e}),(0,l.jsx)(A,{setSearch:t}),(0,l.jsx)(x,{setSearch:t,Search:e})]})}function P(){let e=(0,s.useRef)([]),[t,a]=(0,s.useState)([]),[i,d]=(0,s.useState)([]),u=(0,s.useContext)(k.r);if(!u)return(0,l.jsx)("div",{children:"Loading..."});let{users:c,totalPages:f,error:x,page:h,setPage:g}=u;return(0,s.useEffect)(()=>{if(0===c.length)return;let t=[];for(let a=0;a<c.length;a++){var l;let r=null==(l=e.current[a])?void 0:l.clientHeight,n=Math.floor(a/3);void 0!=r&&(null==t[n]||t[n]<r)&&(t[n]=r)}d(t);let r=[],n=new Date;for(let e=0;e<c.length;e++){let t=c[e].userInfo.lastLoginAt;if(null!==t){let e=new Date("".concat(t,"Z")),a=n.getTime()-e.getTime(),l=Math.floor(a/6e4),s=Math.floor(l/60),i=Math.floor(s/24),o=Math.floor(i/7),d=Math.floor(i/30),u=Math.floor(i/365);0!==u?r.push("".concat(u,"年前")):0!==d?r.push("".concat(d,"ヶ月前")):0!==o?r.push("".concat(o,"週間前")):0!==i?r.push("".concat(i,"日前")):0!==s?r.push("".concat(s,"時間前")):0!==l?r.push("".concat(l,"分前")):0!==a?r.push("たった今"):r.push(void 0)}}a(r)},[c]),(0,l.jsxs)(n.default,{sx:{marginTop:15},children:[(0,l.jsx)(o,{page:h,setPage:g,totalPages:f}),(0,l.jsx)(n.default,{sx:{display:"grid",gridTemplateColumns:"repeat(".concat(3,", 1fr)"),justifyItems:"center",rowGap:12,padding:2,maxWidth:1200,margin:"0 auto"},children:c.map((a,s)=>{var o;let d=Math.floor(s/3);return(0,l.jsx)(n.default,{ref:t=>{e.current[s]=t},sx:{width:"103%",minHeight:null!=(o=i[d])?o:"auto"},children:(0,l.jsx)(r.q,{user:a,lastLoginAt:t[s]})},a.id)})}),(0,l.jsx)(o,{page:h,setPage:g,totalPages:f}),(0,l.jsx)(T,{})]})}},794:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});let l=["Apex Legends","Battlefield 2042","Call of Duty: MWII","Call of Duty: Wz","Counter-Strike 2","Destiny 2","Escape from Tarkov","Halo Infinite","Overwatch 2","Paladins","PUBG: Battlegrounds","Rainbow Six Siege","VALORANT"]},1543:(e,t,a)=>{Promise.resolve().then(a.bind(a,669))},3181:(e,t,a)=>{"use strict";a.d(t,{g:()=>r});let l=["初心者","中級者","上級者"],r={"Apex Legends":["ランクなし","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","マスター","プレデター"],"Battlefield 2042":l,"Call of Duty: MWII":["ランクなし","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","マスター","グランドマスター"],"Call of Duty: Wz":["ランクなし","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","マスター","グランドマスター"],"Counter-Strike 2":["ランクなし","シルバー","ゴールドノヴァ","マスターガーディアン","レジェンダリーイーグル","スプレームマスター","グローバルエリート"],"Destiny 2":l,"Escape from Tarkov":l,"Halo Infinite":["ランクなし","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","オニックス"],"Overwatch 2":["ランクなし","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","マスター","グランドマスター","トップ500"],Paladins:["ランクなし","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","マスター","グランドマスター"],"PUBG: Battlegrounds":["ランクなし","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","エース","コンカラー"],"Rainbow Six Siege":["ランクなし","コッパー","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","チャンピオン"],VALORANT:["ランクなし","アイアン","ブロンズ","シルバー","ゴールド","プラチナ","ダイヤモンド","イモータル","レイディアント"]}},5374:(e,t,a)=>{"use strict";a.d(t,{W:()=>l});let l=["ランク","カジュアル・アンランク","初心者","ゆったり","ガチプレイ","聞き専","コーチング可","コーチング募集"]},7923:(e,t,a)=>{"use strict";a.d(t,{q:()=>g});var l=a(5155);let r=["00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30","24:00"];var n=a(4581),s=a(2663),i=a(1116),o=a(8534),d=a(1803),u=a(3423),c=a(9874);let f={subFont:{fontSize:14,color:"gray"}};var x=a(2115);let h=e=>"".concat(e[0]," ~ ").concat(e[e.length-1]),g=(0,x.forwardRef)((e,t)=>{var a;let{user:g,lastLoginAt:p}=e,j="https://cdn.discordapp.com/avatars/".concat(g.id,"/").concat(g.avatar),m=(0,x.useRef)(null),[y,v]=(0,x.useState)(!1),[b,S]=(0,x.useState)(420),[w,C]=(0,x.useState)(!1);function A(){w?C(!1):C(!0)}return(0,x.useEffect)(()=>{m.current&&(w?S(m.current.scrollHeight):S(420))},[w]),(0,l.jsx)(n.default,{sx:{position:"relative",overflow:"hidden",width:330,height:b,bgcolor:"#2f3136",color:"white",borderRadius:2,p:2,boxShadow:3,alignSelf:"flex-start",display:"flex",flexDirection:"column",transition:"height 0.3s ease"},onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:(0,l.jsxs)(n.default,{ref:m,children:[(0,l.jsx)(()=>(0,l.jsxs)(n.default,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:2},children:[(0,l.jsx)(s.A,{src:j,sx:{width:80,height:80}}),(0,l.jsxs)(n.default,{children:[(0,l.jsxs)(n.default,{sx:{display:"flex"},children:[(0,l.jsx)(i.default,{sx:f.subFont,children:"name"}),(0,l.jsx)(i.default,{sx:{...f.subFont,ml:16},children:p})]}),(0,l.jsx)(i.default,{variant:"h6",children:g.globalName}),(0,l.jsx)(i.default,{fontSize:14,color:"gray",children:g.name})]})]}),{}),(0,l.jsx)(()=>0===g.userInfo.games.length?null:(0,l.jsxs)(n.default,{sx:{marginTop:1},children:[(0,l.jsx)(i.default,{fontSize:14,color:"gray",children:"game | rank"}),g.userInfo.games.map((e,t)=>(0,l.jsxs)(i.default,{children:[e.title," | ",e.rank]},t))]}),{}),(0,l.jsx)(()=>{let e={border:"1px solid gray",borderRadius:1,p:.5};return(0,l.jsxs)(n.default,{sx:{display:"flex",gap:1,marginTop:1},children:[r.includes(g.userInfo.playtime1[0])&&(0,l.jsxs)(n.default,{sx:{flex:1},children:[(0,l.jsx)(i.default,{fontSize:14,color:"gray",children:"平日プレイ時間帯"}),(0,l.jsx)(i.default,{sx:e,children:h(g.userInfo.playtime1)})]}),r.includes(g.userInfo.playtime2[0])&&(0,l.jsxs)(n.default,{sx:{flex:1},children:[(0,l.jsx)(i.default,{fontSize:14,color:"gray",children:"休日プレイ時間帯"}),(0,l.jsx)(i.default,{sx:e,children:h(g.userInfo.playtime2)})]})]})},{}),(0,l.jsx)(()=>0===g.userInfo.playstyle.length?null:(0,l.jsxs)(n.default,{sx:{marginTop:1},children:[(0,l.jsx)(i.default,{fontSize:14,color:"gray",children:"playstyle"}),(0,l.jsx)(i.default,{sx:{border:"1px solid gray",borderRadius:1,p:.5},children:g.userInfo.playstyle.join(", ")})]}),{}),(0,l.jsx)(()=>g.userInfo.introduction?(0,l.jsxs)(n.default,{sx:{mt:1,mb:"auto"},children:[(0,l.jsx)(i.default,{fontSize:14,color:"gray",children:"introduction"}),(0,l.jsx)(i.default,{variant:"body2",sx:{border:"1px solid gray",borderRadius:1,p:.5,mt:.5,overflowWrap:"break-word"},children:g.userInfo.introduction}),(0,l.jsx)(n.default,{sx:{height:110,backgroundColor:"#2f3136"}})]}):null,{}),(0,l.jsx)(e=>{let{ID:t}=e;return(0,l.jsxs)(n.default,{sx:{position:"absolute",bottom:0,width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)(n.default,{onClick:A,sx:{width:"100%",height:60,background:"linear-gradient(to bottom, rgba(47,49,54,0.3) 0%, rgba(47,49,54,1) 100%)",display:"flex",justifyContent:"center",alignItems:"end"},children:w?(0,l.jsx)(u.A,{sx:{opacity:1,transform:"translateX(-50%)",fontSize:"2rem",color:y?"#1565C0":"white"}}):(0,l.jsx)(c.A,{sx:{opacity:1,transform:"translateX(-50%)",fontSize:"2rem",color:y?"#1565C0":"white"}})}),(0,l.jsx)(n.default,{sx:{width:"100%",height:10,backgroundColor:"#2f3136"}}),(0,l.jsxs)(n.default,{sx:{width:"100%",backgroundColor:"#2f3136"},children:[(0,l.jsx)(o.A,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>navigator.clipboard.writeText(t),sx:{width:"90%",height:40},children:"IDをコピー"}),(0,l.jsx)(n.default,{sx:{height:10,backgroundColor:"#2f3136"}})]})]})},{ID:null!=(a=g.id)?a:""}),(0,l.jsx)(d.A,{spacing:2})]})})})},9076:(e,t,a)=>{"use strict";a.d(t,{r:()=>o,default:()=>d});var l=a(5155),r=a(2115);async function n(e,t){let a=(function(e,t){let a=[];for(let l=e;l<=t;l++)a.push(l);return a})(e.playtime[0],e.playtime[1]).map(e=>(function(e){let t=Math.floor(e/2);return"".concat(String(t).padStart(2,"0"),":").concat(e%2==0?"00":"30")})(e)),l=await fetch("".concat("","/api/friend/search?page=").concat(t-1,"&size=15"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({games:e.game,ranks:e.rank,playstyle:e.playstyle,playtime:a})}),r=await l.json();return await r}let s={game:[],rank:[],playstyle:[],playtime:[0,48]},i=[],o=(0,r.createContext)({Search:s,setSearch:()=>{},users:i,setUsers:()=>{},totalPages:1,setTotalPages:()=>{},error:null,setError:()=>{},page:1,setPage:()=>{}});function d(e){let{children:t}=e,[a,d]=(0,r.useState)(i),[u,c]=(0,r.useState)(s),[f,x]=(0,r.useState)(1),[h,g]=(0,r.useState)(null),[p,j]=(0,r.useState)(1);return(0,r.useEffect)(()=>{(async()=>{let e=await n(u,p);d(e.content),x(e.totalPages),g(e.error||null)})()},[p]),(0,r.useEffect)(()=>{(async()=>{let e=await n(u,1);d(e.content),x(e.totalPages),g(e.error||null),j(1)})()},[u]),(0,l.jsx)(o.Provider,{value:{Search:u,setSearch:c,users:a,setUsers:d,totalPages:f,setTotalPages:x,error:h,setError:g,page:p,setPage:j},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[94,175,232,51,441,684,358],()=>t(1543)),_N_E=e.O()}]);